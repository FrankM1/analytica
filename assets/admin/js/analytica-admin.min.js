jQuery(document).ready(function(r){r(".customize-control.has-switchers").each(function(t){var e=r(this);1<=e.find(".responsive-switchers").length&&(e.parent().find("#"+e.attr("id")).addClass("active"),e.parent().find("#"+e.attr("id")+"_mobile").removeClass("active"),e.parent().find("#"+e.attr("id")+"_tablet").removeClass("active"))}),r(".customize-control .responsive-switchers button").on("click",function(t){var e=r(this),a=r(".responsive-switchers"),n=r(t.currentTarget).data("device"),i=r(".customize-control.has-switchers"),s=r(".wp-full-overlay"),t=r(".wp-full-overlay-footer .devices");a.find("button").removeClass("active"),a.find("button.preview-"+n).addClass("active"),i.removeClass("active"),("desktop"===n?i.parent().find("#"+i.attr("id")):i.parent().find("#"+i.attr("id")+"_"+n)).addClass("active"),i.removeClass("control-device-desktop control-device-tablet control-device-mobile").addClass("control-device-"+n),s.removeClass("preview-desktop preview-tablet preview-mobile").addClass("preview-"+n),t.find("button").removeClass("active").attr("aria-pressed",!1),t.find("button.preview-"+n).addClass("active").attr("aria-pressed",!0),e.hasClass("preview-desktop")&&i.toggleClass("responsive-switchers-open")}),r(".wp-full-overlay-footer .devices button").on("click",function(t){var e=r(this),a=r(".customize-control.has-switchers .responsive-switchers"),n=r(t.currentTarget).data("device"),t=r(".customize-control.has-switchers");a.find("button").removeClass("active"),a.find("button.preview-"+n).addClass("active"),t.removeClass("active"),("desktop"===n?t.parent().find("#"+t.attr("id")):t.parent().find("#"+t.attr("id")+"_"+n)).addClass("active"),t.removeClass("control-device-desktop control-device-tablet control-device-mobile").addClass("control-device-"+n),e.hasClass("preview-desktop")?t.removeClass("responsive-switchers-open"):t.addClass("responsive-switchers-open")})}),wp.customize.controlConstructor["dimensions-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";!_.isUndefined(window.kirkiControlLoader)&&_.isFunction(kirkiControlLoader)?kirkiControlLoader(this):this.initKirkiControl()},initKirkiControl:function(){for(var t=this,e=t.params.choices,a={},n=0;n<e.length;n++)a[e[n]]=t.setting._value[e[n]],t.updateDimensionsValue(e[n],a)},updateDimensionsValue:function(t,e){var a=this;a.container.on("change keyup paste","input.dimension-"+t,function(){e[t]=jQuery(this).val(),a.saveValue(e)})},saveValue:function(t){var a={};_.each(t,function(t,e){a[e]=t}),this.setting.set(a)}}),jQuery(document).ready(function(n){n(".analytica-linked").on("click",function(){var t=n(this);t.parent().parent(".dimension-wrap").prevAll().slice(0,4).find("input").removeClass("linked").attr("data-element",""),t.parent(".link-dimensions").removeClass("unlinked")}),n(".analytica-unlinked").on("click",function(){var t=n(this),e=t.data("element");t.parent().parent(".dimension-wrap").prevAll().slice(0,4).find("input").addClass("linked").attr("data-element",e),t.parent(".link-dimensions").addClass("unlinked")}),n(".dimension-wrap").on("input",".linked",function(){var t=n(this).attr("data-element"),a=n(this).val();n('.linked[ data-element="'+t+'" ]').each(function(t,e){n(this).val(a).change()})})}),wp.customize.controlConstructor["analytica-icon"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("change","input",function(){t.setting.set(jQuery(this).val())})}}),function(a,s){"use strict";a.ImageGalleryControl=a.Control.extend({initialize:function(t,e){e=e||{};e.params.file_type||(e.params.file_type="image"),e.params.type||(e.params.type="image_gallery"),e.params.content||(e.params.content=s("<li></li>"),e.params.content.attr("id","customize-control-"+t.replace(/]/g,"").replace(/\[/g,"-")),e.params.content.attr("class","customize-control customize-control-"+e.params.type)),e.params.attachments||(e.params.attachments=[]),a.Control.prototype.initialize.call(this,t,e)},ready:function(){var e=this;function t(){var t=e.setting.get();e.setAttachmentsData(t).done(function(){e.renderContent(),e.setupSortable()})}_.bindAll(e,"openFrame","select"),t(),e.setting.bind(t),e.container.on("click keydown",".upload-button",e.openFrame)},setAttachmentsData:function(t){var n=this,i=[];return n.params.attachments=[],_.each(t,function(t,e){var a=new s.Deferred;wp.media.attachment(t).fetch().done(function(){n.params.attachments[e]=this.attributes,a.resolve()}),i.push(a)}),s.when.apply(void 0,i).promise()},openFrame:function(t){t.preventDefault(),this.frame||this.initFrame(),this.frame.open()},initFrame:function(){var t,i=this;this.frame=wp.media({button:{text:i.params.button_labels.frame_button},states:[new wp.media.controller.Library({title:i.params.button_labels.frame_title,library:wp.media.query({type:i.params.file_type}),multiple:"add"})]}),t=function(){var e,a=i.frame.state().get("library"),n=i.frame.state().get("selection"),t=i.setting.get();a.comparator=function(t,e){t=!0===this.mirroring.get(t.cid),e=!0===this.mirroring.get(e.cid);return!t&&e?-1:t&&!e?1:0},_.each(t,function(t){e=wp.media.attachment(t),n.add(e?[e]:[]),a.add(e?[e]:[])})},i.frame.on("open",t),i.frame.on("select",i.select)},select:function(){var t=this.frame.state().get("selection").toJSON();this.params.attachments=t,t=this.getAttachmentIds(t),this.setSettingValues(t)},getAttachmentIds:function(t){var e,a=[];for(e in t)a.push(t[e].id);return a},setSettingValues:function(t){this.setting.set(t)},setupSortable:function(){var t=this,a=s(".image-gallery-attachments");a.sortable({items:".image-gallery-thumbnail-wrapper",tolerance:"pointer",stop:function(){var e=[];a.find(".image-gallery-thumbnail-wrapper").each(function(){var t=parseInt(s(this).data("postId"),10);e.push(t)}),t.setSettingValues(e)}})}}),a.controlConstructor.image_gallery=a.ImageGalleryControl}(wp.customize,jQuery);