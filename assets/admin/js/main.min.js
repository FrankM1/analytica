function acp_get_alpha_value_from_color(e){var t;return(e=e.replace(/ /g,"")).match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(t=100*parseFloat(e.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),t=parseInt(t)):t=100,t}function acp_update_alpha_value_on_color_control(e,t,a,n){var i,o,s;i=t.data("a8cIris"),o=t.data("wpWpColorPicker"),i._color._alpha=e,s=i._color.toString(),t.val(s),o.toggler.css({"background-color":s}),n&&acp_update_alpha_value_on_alpha_slider(e,a),t.wpColorPicker("color",s)}function acp_update_alpha_value_on_alpha_slider(e,t){t.slider("value",e),t.find(".ui-slider-handle").text(e.toString())}jQuery(document).ready(function(r){r(".customize-control.has-switchers").each(function(e){var t=r(this);1<=t.find(".responsive-switchers").length&&(t.parent().find("#"+t.attr("id")).addClass("active"),t.parent().find("#"+t.attr("id")+"_mobile").removeClass("active"),t.parent().find("#"+t.attr("id")+"_tablet").removeClass("active"))}),r(".customize-control .responsive-switchers button").on("click",function(e){var t=r(this),a=r(".responsive-switchers"),n=r(e.currentTarget).data("device"),i=r(".customize-control.has-switchers"),o=r(".wp-full-overlay"),s=r(".wp-full-overlay-footer .devices");a.find("button").removeClass("active"),a.find("button.preview-"+n).addClass("active"),i.removeClass("active"),"desktop"===n?i.parent().find("#"+i.attr("id")).addClass("active"):i.parent().find("#"+i.attr("id")+"_"+n).addClass("active"),i.removeClass("control-device-desktop control-device-tablet control-device-mobile").addClass("control-device-"+n),o.removeClass("preview-desktop preview-tablet preview-mobile").addClass("preview-"+n),s.find("button").removeClass("active").attr("aria-pressed",!1),s.find("button.preview-"+n).addClass("active").attr("aria-pressed",!0),t.hasClass("preview-desktop")&&i.toggleClass("responsive-switchers-open")}),r(".wp-full-overlay-footer .devices button").on("click",function(e){var t=r(this),a=r(".customize-control.has-switchers .responsive-switchers"),n=r(e.currentTarget).data("device"),i=r(".customize-control.has-switchers");a.find("button").removeClass("active"),a.find("button.preview-"+n).addClass("active"),i.removeClass("active"),"desktop"===n?i.parent().find("#"+i.attr("id")).addClass("active"):i.parent().find("#"+i.attr("id")+"_"+n).addClass("active"),i.removeClass("control-device-desktop control-device-tablet control-device-mobile").addClass("control-device-"+n),t.hasClass("preview-desktop")?i.removeClass("responsive-switchers-open"):i.addClass("responsive-switchers-open")})}),Color.prototype.toString=function(e){if("no-alpha"==e)return this.toCSS("rgba","1").replace(/\s+/g,"");if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var a=6-t.length-1;0<=a;a--)t="0"+t;return"#"+t},jQuery(document).ready(function(i){i(".alpha-color-control").each(function(){var o,n,e,s,t,r,l,a;o=i(this),n=o.val().replace(/\s+/g,""),e=o.attr("data-show-opacity"),s=o.attr("data-default-color"),t={change:function(e,t){var a,n,i;a=o.attr("data-customize-setting-link"),n=o.wpColorPicker("color"),s==n&&(i=acp_get_alpha_value_from_color(n),l.find(".ui-slider-handle").text(i)),wp.customize(a,function(e){e.set(n)}),r.find(".transparency").css("background-color",t.color.toString("no-alpha"))},palettes:analyticaLocalize.colorPalettes},o.wpColorPicker(t),r=o.parents(".wp-picker-container:first"),i('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(r.find(".wp-picker-holder")),l=r.find(".alpha-slider"),a={create:function(e,t){var a=i(this).slider("value");i(this).find(".ui-slider-handle").text(a),i(this).siblings(".transparency ").css("background-color",n)},value:acp_get_alpha_value_from_color(n),range:"max",step:1,min:0,max:100,animate:300},l.slider(a),"true"==e&&l.find(".ui-slider-handle").addClass("show-opacity"),r.find(".min-click-zone").on("click",function(){acp_update_alpha_value_on_color_control(0,o,l,!0)}),r.find(".max-click-zone").on("click",function(){acp_update_alpha_value_on_color_control(100,o,l,!0)}),r.find(".iris-palette").on("click",function(e){var t,a;e.preventDefault(),acp_update_alpha_value_on_alpha_slider(a=acp_get_alpha_value_from_color(t=i(this).css("background-color")),l),100!=a&&(t=t.replace(/[^,]+(?=\))/,(a/100).toFixed(2))),o.wpColorPicker("color",t)}),r.find(".button.wp-picker-clear").on("click",function(e){e.preventDefault();var t=o.attr("data-customize-setting-link");o.wpColorPicker("color","#ffffff"),wp.customize(t,function(e){e.set("")}),acp_update_alpha_value_on_alpha_slider(100,l)}),r.find(".button.wp-picker-default").on("click",function(e){e.preventDefault(),acp_update_alpha_value_on_alpha_slider(acp_get_alpha_value_from_color(s),l)}),o.on("input",function(e){e.preventDefault(),acp_update_alpha_value_on_alpha_slider(acp_get_alpha_value_from_color(i(this).val()),l)}),l.slider().on("slide",function(e,t){acp_update_alpha_value_on_color_control(parseFloat(t.value)/100,o,l,!1),i(this).find(".ui-slider-handle").text(t.value)}),i(".iris-picker, .alpha-color-control").on("click",function(e){e.preventDefault()})})}),wp.customize.controlConstructor["dimensions-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.container.on("change keyup paste",".dimension-top",function(){e.settings.desktop.top.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-right",function(){e.settings.desktop.right.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-bottom",function(){e.settings.desktop.bottom.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-left",function(){e.settings.desktop.left.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-tablet_top",function(){e.settings.tablet.top.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-tablet_right",function(){e.settings.tablet.right.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-tablet_bottom",function(){e.settings.tablet.bottom.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-tablet_left",function(){e.settings.tablet.left.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-mobile_top",function(){e.settings.mobile.top.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-mobile_right",function(){e.settings.mobile.right.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-mobile_bottom",function(){e.settings.mobile.bottom.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-mobile_left",function(){e.settings.mobile.left.set(jQuery(this).val())})}}),jQuery(document).ready(function(n){n(".analytica-linked").on("click",function(){var e=n(this);e.parent().parent(".dimension-wrap").prevAll().slice(0,4).find("input").removeClass("linked").attr("data-element",""),e.parent(".link-dimensions").removeClass("unlinked")}),n(".analytica-unlinked").on("click",function(){var e=n(this),t=e.data("element");e.parent().parent(".dimension-wrap").prevAll().slice(0,4).find("input").addClass("linked").attr("data-element",t),e.parent(".link-dimensions").addClass("unlinked")}),n(".dimension-wrap").on("input",".linked",function(){var e=n(this).attr("data-element"),a=n(this).val();n('.linked[ data-element="'+e+'" ]').each(function(e,t){n(this).val(a).change()})})}),wp.customize.controlConstructor["analytica-icon"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.on("change","input",function(){e.setting.set(jQuery(this).val())})}});