function acp_get_alpha_value_from_color(e){var t;return(e=e.replace(/ /g,"")).match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)?(t=100*parseFloat(e.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2),t=parseInt(t)):t=100,t}function acp_update_alpha_value_on_color_control(e,t,a,n){var o,i,r;o=t.data("a8cIris"),i=t.data("wpWpColorPicker"),o._color._alpha=e,r=o._color.toString(),t.val(r),i.toggler.css({"background-color":r}),n&&acp_update_alpha_value_on_alpha_slider(e,a),t.wpColorPicker("color",r)}function acp_update_alpha_value_on_alpha_slider(e,t){t.slider("value",e),t.find(".ui-slider-handle").text(e.toString())}jQuery(document).ready(function(l){l(".customize-control .responsive-switchers button").on("click",function(e){var t=l(this),a=l(".responsive-switchers"),n=l(e.currentTarget).data("device"),o=l(".customize-control.has-switchers"),i=l(".wp-full-overlay"),r=l(".wp-full-overlay-footer .devices");a.find("button").removeClass("active"),a.find("button.preview-"+n).addClass("active"),o.find(".control-wrap").removeClass("active"),o.find(".control-wrap."+n).addClass("active"),o.removeClass("control-device-desktop control-device-tablet control-device-mobile").addClass("control-device-"+n),i.removeClass("preview-desktop preview-tablet preview-mobile").addClass("preview-"+n),r.find("button").removeClass("active").attr("aria-pressed",!1),r.find("button.preview-"+n).addClass("active").attr("aria-pressed",!0),t.hasClass("preview-desktop")&&o.toggleClass("responsive-switchers-open")}),l(".wp-full-overlay-footer .devices button").on("click",function(e){var t=l(this),a=l(".customize-control.has-switchers .responsive-switchers"),n=l(e.currentTarget).data("device"),o=l(".customize-control.has-switchers");a.find("button").removeClass("active"),a.find("button.preview-"+n).addClass("active"),o.find(".control-wrap").removeClass("active"),o.find(".control-wrap."+n).addClass("active"),o.removeClass("control-device-desktop control-device-tablet control-device-mobile").addClass("control-device-"+n),t.hasClass("preview-desktop")?o.removeClass("responsive-switchers-open"):o.addClass("responsive-switchers-open")})}),Color.prototype.toString=function(e){if("no-alpha"==e)return this.toCSS("rgba","1").replace(/\s+/g,"");if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var a=6-t.length-1;0<=a;a--)t="0"+t;return"#"+t},jQuery(document).ready(function(o){o(".alpha-color-control").each(function(){var i,n,e,r,t,l,s,a;i=o(this),n=i.val().replace(/\s+/g,""),e=i.attr("data-show-opacity"),r=i.attr("data-default-color"),t={change:function(e,t){var a,n,o;a=i.attr("data-customize-setting-link"),n=i.wpColorPicker("color"),r==n&&(o=acp_get_alpha_value_from_color(n),s.find(".ui-slider-handle").text(o)),wp.customize(a,function(e){e.set(n)}),l.find(".transparency").css("background-color",t.color.toString("no-alpha"))},palettes:analyticaLocalize.colorPalettes},i.wpColorPicker(t),l=i.parents(".wp-picker-container:first"),o('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(l.find(".wp-picker-holder")),s=l.find(".alpha-slider"),a={create:function(e,t){var a=o(this).slider("value");o(this).find(".ui-slider-handle").text(a),o(this).siblings(".transparency ").css("background-color",n)},value:acp_get_alpha_value_from_color(n),range:"max",step:1,min:0,max:100,animate:300},s.slider(a),"true"==e&&s.find(".ui-slider-handle").addClass("show-opacity"),l.find(".min-click-zone").on("click",function(){acp_update_alpha_value_on_color_control(0,i,s,!0)}),l.find(".max-click-zone").on("click",function(){acp_update_alpha_value_on_color_control(100,i,s,!0)}),l.find(".iris-palette").on("click",function(e){var t,a;e.preventDefault(),acp_update_alpha_value_on_alpha_slider(a=acp_get_alpha_value_from_color(t=o(this).css("background-color")),s),100!=a&&(t=t.replace(/[^,]+(?=\))/,(a/100).toFixed(2))),i.wpColorPicker("color",t)}),l.find(".button.wp-picker-clear").on("click",function(e){e.preventDefault();var t=i.attr("data-customize-setting-link");i.wpColorPicker("color","#ffffff"),wp.customize(t,function(e){e.set("")}),acp_update_alpha_value_on_alpha_slider(100,s)}),l.find(".button.wp-picker-default").on("click",function(e){e.preventDefault(),acp_update_alpha_value_on_alpha_slider(acp_get_alpha_value_from_color(r),s)}),i.on("input",function(e){e.preventDefault(),acp_update_alpha_value_on_alpha_slider(acp_get_alpha_value_from_color(o(this).val()),s)}),s.slider().on("slide",function(e,t){acp_update_alpha_value_on_color_control(parseFloat(t.value)/100,i,s,!1),o(this).find(".ui-slider-handle").text(t.value)}),o(".iris-picker, .alpha-color-control").on("click",function(e){e.preventDefault()})})}),wp.customize.controlConstructor["analytica-dimensions"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;e.container.on("change keyup paste",".dimension-top",function(){e.settings.top.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-right",function(){e.settings.right.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-bottom",function(){e.settings.bottom.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-left",function(){e.settings.left.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-tablet_top",function(){e.settings.tablet_top.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-tablet_right",function(){e.settings.tablet_right.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-tablet_bottom",function(){e.settings.tablet_bottom.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-tablet_left",function(){e.settings.tablet_left.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-mobile_top",function(){e.settings.mobile_top.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-mobile_right",function(){e.settings.mobile_right.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-mobile_bottom",function(){e.settings.mobile_bottom.set(jQuery(this).val())}),e.container.on("change keyup paste",".dimension-mobile_left",function(){e.settings.mobile_left.set(jQuery(this).val())})}}),jQuery(document).ready(function(n){n(".analytica-linked").on("click",function(){var e=n(this);e.parent().parent(".dimension-wrap").prevAll().slice(0,4).find("input").removeClass("linked").attr("data-element",""),e.parent(".link-dimensions").removeClass("unlinked")}),n(".analytica-unlinked").on("click",function(){var e=n(this),t=e.data("element");e.parent().parent(".dimension-wrap").prevAll().slice(0,4).find("input").addClass("linked").attr("data-element",t),e.parent(".link-dimensions").addClass("unlinked")}),n(".dimension-wrap").on("input",".linked",function(){var e=n(this).attr("data-element"),a=n(this).val();n('.linked[ data-element="'+e+'" ]').each(function(e,t){n(this).val(a).change()})})}),wp.customize.controlConstructor["analytica-icon"]=wp.customize.Control.extend({ready:function(){"use strict";var e=this;this.container.on("change","input",function(){e.setting.set(jQuery(this).val())})}});