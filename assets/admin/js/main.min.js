!function(e){var n=wp.customize;ASTControlTrigger={triggerHook:function(t,a){e("body").trigger("analytica-control-trigger."+t,a)},addHook:function(t,a){e("body").on("analytica-control-trigger."+t,a)},removeHook:function(t,a){e("body").off("analytica-control-trigger."+t,a)}},ASTCustomizerToggles={"analytica-settings[display-site-title]":[{controls:["analytica-settings[divider-section-header-typo-title]","analytica-settings[font-size-site-title]"],callback:function(t){return!!t}},{controls:["analytica-settings[logo-title-inline]"],callback:function(t){var a=n("analytica-settings[display-site-tagline]").get(),e=n("custom_logo").get(),i=n("analytica-settings[analytica-header-retina-logo]").get();return!(!t&&!a||!e&&!i)}}],"analytica-settings[display-site-tagline]":[{controls:["analytica-settings[divider-section-header-typo-tagline]","analytica-settings[font-size-site-tagline]"],callback:function(t){return!!t}},{controls:["analytica-settings[logo-title-inline]"],callback:function(t){var a=n("analytica-settings[display-site-title]").get(),e=n("custom_logo").get(),i=n("analytica-settings[analytica-header-retina-logo]").get();return!(!t&&!a||!e&&!i)}}],"analytica-settings[analytica-header-retina-logo]":[{controls:["analytica-settings[logo-title-inline]"],callback:function(t){var a=n("custom_logo").get(),e=n("analytica-settings[display-site-tagline]").get(),i=n("analytica-settings[display-site-title]").get();return!(!t&&!a||!i&&!e)}}],custom_logo:[{controls:["analytica-settings[logo-title-inline]"],callback:function(t){var a=n("analytica-settings[analytica-header-retina-logo]").get(),e=n("analytica-settings[display-site-tagline]").get(),i=n("analytica-settings[display-site-title]").get();return!(!t&&!a||!i&&!e)}}],"analytica-settings[header-main-rt-section]":[{controls:["analytica-settings[header-main-rt-section-html]"],callback:function(t){return"text-html"==t}},{controls:["analytica-settings[header-main-menu-label]","analytica-settings[header-main-menu-label-divider]"],callback:function(t){return!n("analytica-settings[disable-primary-nav]").get()||"none"!=t}},{controls:["analytica-settings[header-display-outside-menu]"],callback:function(t){return"none"!=t}}],"analytica-settings[blog-width]":[{controls:["analytica-settings[blog-max-width]"],callback:function(t){return"custom"==t}}],"analytica-settings[blog-post-structure]":[{controls:["analytica-settings[blog-meta]"],callback:function(t){return-1!==jQuery.inArray("title-meta",t)}}],"analytica-settings[single-post-structure]":[{controls:["analytica-settings[single-post-meta]"],callback:function(t){return-1!==jQuery.inArray("single-title-meta",t)}}],"analytica-settings[single-post-width]":[{controls:["analytica-settings[single-post-max-width]"],callback:function(t){return"custom"==t}}],"analytica-settings[single-post-meta]":[{controls:["analytica-settings[single-post-meta-comments]","analytica-settings[single-post-meta-cat]","analytica-settings[single-post-meta-author]","analytica-settings[single-post-meta-date]","analytica-settings[single-post-meta-tag]"],callback:function(t){return"1"==t}}],"analytica-settings[header-main-sep]":[{controls:["analytica-settings[header-main-sep-color]"],callback:function(t){return"1"<=t}}],"analytica-settings[disable-primary-nav]":[{controls:["analytica-settings[header-main-menu-label]","analytica-settings[header-main-menu-label-divider]"],callback:function(t){var a=n("analytica-settings[header-main-rt-section]").get();return!t||"none"!=a}}],"analytica-settings[footer-adv]":[{controls:["analytica-settings[footer-adv-background-divider]","analytica-settings[footer-adv-wgt-title-color]","analytica-settings[footer-adv-text-color]","analytica-settings[footer-adv-link-color]","analytica-settings[footer-adv-link-h-color]","analytica-settings[footer-adv-bg-obj]"],callback:function(t){return"disabled"!=t}}],"analytica-settings[shop-archive-width]":[{controls:["analytica-settings[shop-archive-max-width]"],callback:function(t){return"custom"==t}}]}}(jQuery),function(o){var n=wp.customize;ASTCustomizer={controls:{},init:function(){ASTCustomizer._initToggles()},_initToggles:function(){ASTControlTrigger.triggerHook("analytica-toggle-control",n),o.each(ASTCustomizerToggles,function(t,a){n(t,function(i){o.each(a,function(t,e){o.each(e.controls,function(t,a){n.control(a,function(a){var t=function(t){a.container.toggle(e.callback(t))};t(i.get()),i.bind(t)})})})}),o('.customize-control *[data-customize-setting-link="'+t+'"]').on("change",function(){setTimeout(function(){o.each(a,function(t,a){o.each(a.controls,function(t,a){a=a.replace("analytica-settings[","").replace("]","");var e=o("#customize-control-analytica-settings-"+a).closest(".control-section");if(void 0!==e){var i=e.attr("id"),n=!1;e.find(" > .customize-control").each(function(t,a){"none"!=o(this).css("display")&&(n=!0)}),n?o('.control-section[aria-owns="'+i+'"]').removeClass("analytica-hide"):o('.control-section[aria-owns="'+i+'"]').addClass("analytica-hide")}})})},300)}),o.each(a,function(t,a){o.each(a.controls,function(t,a){a=a.replace("analytica-settings[","").replace("]","");var e=o("#customize-control-analytica-settings-"+a).closest(".control-section");if(void 0!==e){var i=e.attr("id"),n=!1;e.find(" > .customize-control").each(function(t,a){"none"!=o(this).css("display")&&(n=!0)}),n?o('.control-section[aria-owns="'+i+'"]').removeClass("analytica-hide"):o('.control-section[aria-owns="'+i+'"]').addClass("analytica-hide")}})})})}},o(function(){ASTCustomizer.init()})}(jQuery),function(t){t.sectionConstructor["analytica-pro"]=t.Section.extend({attachEvents:function(){},isContextuallyActive:function(){return!0}})}(wp.customize),function(i){var n=wp.customize;n.bind("pane-contents-reflowed",function(){var a=[];n.section.each(function(t){"ast_section"===t.params.type&&void 0!==t.params.section&&a.push(t)}),a.sort(n.utils.prioritySort).reverse(),i.each(a,function(t,a){i("#sub-accordion-section-"+a.params.section).children(".section-meta").after(a.headContainer)});var e=[];n.panel.each(function(t){"ast_panel"===t.params.type&&void 0!==t.params.panel&&e.push(t)}),e.sort(n.utils.prioritySort).reverse(),i.each(e,function(t,a){i("#sub-accordion-panel-"+a.params.panel).children(".panel-meta").after(a.headContainer)})});var t=wp.customize.Panel.prototype.embed,o=wp.customize.Panel.prototype.isContextuallyActive,a=wp.customize.Panel.prototype.attachEvents;wp.customize.Panel=wp.customize.Panel.extend({attachEvents:function(){if("ast_panel"===this.params.type&&void 0!==this.params.panel){a.call(this);var e=this;e.expanded.bind(function(t){var a=n.panel(e.params.panel);t?a.contentContainer.addClass("current-panel-parent"):a.contentContainer.removeClass("current-panel-parent")}),e.container.find(".customize-panel-back").off("click keydown").on("click keydown",function(t){n.utils.isKeydownButNotEnterEvent(t)||(t.preventDefault(),e.expanded()&&n.panel(e.params.panel).expand())})}else a.call(this)},embed:function(){if("ast_panel"===this.params.type&&void 0!==this.params.panel){t.call(this);i("#sub-accordion-panel-"+this.params.panel).append(this.headContainer)}else t.call(this)},isContextuallyActive:function(){if("ast_panel"!==this.params.type)return o.call(this);var a=this,e=this._children("panel","section");n.panel.each(function(t){t.params.panel&&t.params.panel===a.id&&e.push(t)}),e.sort(n.utils.prioritySort);var i=0;return _(e).each(function(t){t.active()&&t.isContextuallyActive()&&(i+=1)}),0!==i}});var e=wp.customize.Section.prototype.embed,s=wp.customize.Section.prototype.isContextuallyActive,r=wp.customize.Section.prototype.attachEvents;wp.customize.Section=wp.customize.Section.extend({attachEvents:function(){if("ast_section"===this.params.type&&void 0!==this.params.section){r.call(this);var e=this;e.expanded.bind(function(t){var a=n.section(e.params.section);t?a.contentContainer.addClass("current-section-parent"):a.contentContainer.removeClass("current-section-parent")}),e.container.find(".customize-section-back").off("click keydown").on("click keydown",function(t){n.utils.isKeydownButNotEnterEvent(t)||(t.preventDefault(),e.expanded()&&n.section(e.params.section).expand())})}else r.call(this)},embed:function(){if("ast_section"===this.params.type&&void 0!==this.params.section){e.call(this);i("#sub-accordion-section-"+this.params.section).append(this.headContainer)}else e.call(this)},isContextuallyActive:function(){if("ast_section"!==this.params.type)return s.call(this);var a=this,e=this._children("section","control");n.section.each(function(t){t.params.section&&t.params.section===a.id&&e.push(t)}),e.sort(n.utils.prioritySort);var i=0;return _(e).each(function(t){void 0!==t.isContextuallyActive?t.active()&&t.isContextuallyActive()&&(i+=1):t.active()&&(i+=1)}),0!==i}})}(jQuery),function(l){var c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==";Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var t=parseInt(this._color,10).toString(16);return this.error?"":(t.length<6&&(t=("00000"+t).substr(-6)),"#"+t)},l.widget("wp.wpColorPicker",l.wp.wpColorPicker,{_create:function(){if(l.support.iris){var e=this,t=e.element;if(l.extend(e.options,t.data()),"hue"===e.options.type)return e._createHueOnly();e.close=l.proxy(e.close,e),e.initialValue=t.val(),t.addClass("wp-color-picker"),t.parent("label").length||(t.wrap("<label></label>"),e.wrappingLabelText=l('<span class="screen-reader-text"></span>').insertBefore(t).text(wpColorPickerL10n.defaultLabel)),e.wrappingLabel=t.parent(),e.wrappingLabel.wrap('<div class="wp-picker-container" />'),e.wrap=e.wrappingLabel.parent(),e.toggler=l('<button type="button" class="button wp-color-result" aria-expanded="false"><span class="wp-color-result-text"></span></button>').insertBefore(e.wrappingLabel).css({backgroundColor:e.initialValue}),e.toggler.find(".wp-color-result-text").text(wpColorPickerL10n.pick),e.pickerContainer=l('<div class="wp-picker-holder" />').insertAfter(e.wrappingLabel),e.button=l('<input type="button" class="button button-small" />'),e.options.defaultColor?e.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString).attr("aria-label",wpColorPickerL10n.defaultAriaLabel):e.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear).attr("aria-label",wpColorPickerL10n.clearAriaLabel),e.wrappingLabel.wrap('<span class="wp-picker-input-wrap hidden" />').after(e.button),e.inputWrapper=t.closest(".wp-picker-input-wrap"),e.toggler.css({height:"24px",margin:"0 6px 6px 0",padding:"0 0 0 30px","font-size":"11px"}),e.toggler.find(".wp-color-result-text").css({background:"#f7f7f7","border-radius":"0 2px 2px 0","border-left":"1px solid #ccc",color:"#555",display:"block","line-height":"22px",padding:"0 6px","text-align":"center"}),t.iris({target:e.pickerContainer,hide:e.options.hide,width:e.options.width,mode:e.options.mode,palettes:e.options.palettes,change:function(t,a){e.options.alpha?(e.toggler.css({"background-image":"url("+c+")",position:"relative"}),0==e.toggler.find("span.color-alpha").length&&e.toggler.append('<span class="color-alpha" />'),e.toggler.find("span.color-alpha").css({width:"30px",height:"24px",position:"absolute",top:0,left:0,"border-top-left-radius":"2px","border-bottom-left-radius":"2px",background:a.color.toString()})):e.toggler.css({backgroundColor:a.color.toString()}),l.isFunction(e.options.change)&&e.options.change.call(this,t,a)}}),t.val(e.initialValue),e._addListeners(),e.options.hide||e.toggler.click()}},_addListeners:function(){var a=this;a.wrap.on("click.wpcolorpicker",function(t){t.stopPropagation()}),a.toggler.click(function(){a.toggler.hasClass("wp-picker-open")?a.close():a.open()}),a.element.on("change",function(t){(""===l(this).val()||a.element.hasClass("iris-error"))&&(a.options.alpha?a.toggler.find("span.color-alpha").css("backgroundColor",""):a.toggler.css("backgroundColor",""),l.isFunction(a.options.clear)&&a.options.clear.call(this,t))}),a.button.on("click",function(t){l(this).hasClass("wp-picker-clear")?(a.element.val(""),a.options.alpha?a.toggler.find("span.color-alpha").css("backgroundColor",""):a.toggler.css("backgroundColor",""),l.isFunction(a.options.clear)&&a.options.clear.call(this,t)):l(this).hasClass("wp-picker-default")&&a.element.val(a.options.defaultColor).change()})}}),l.widget("a8c.iris",l.a8c.iris,{_create:function(){if(this._super(),this.options.alpha=this.element.data("alpha")||!1,this.element.is(":input")||(this.options.alpha=!1),void 0!==this.options.alpha&&this.options.alpha){var e=this,t=e.element,a=l('<div class="iris-strip iris-slider iris-alpha-slider"><div class="iris-slider-offset iris-slider-offset-alpha"></div></div>').appendTo(e.picker.find(".iris-picker-inner")),i=a.find(".iris-slider-offset-alpha"),n={aContainer:a,aSlider:i};void 0!==t.data("custom-width")?e.options.customWidth=parseInt(t.data("custom-width"))||0:e.options.customWidth=100,e.options.defaultWidth=t.width(),(e._color._alpha<1||-1!=e._color.toString().indexOf("rgb"))&&t.width(parseInt(e.options.defaultWidth+e.options.customWidth)),l.each(n,function(t,a){e.controls[t]=a}),e.controls.square.css({"margin-right":"0"});var o=e.picker.width()-e.controls.square.width()-20,s=o/6,r=o/2-s;l.each(["aContainer","strip"],function(t,a){e.controls[a].width(r).css({"margin-left":s+"px"})}),e._initControls(),e._change()}},_initControls:function(){if(this._super(),this.options.alpha){var e=this;e.controls.aSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(100*e._color._alpha),slide:function(t,a){e._color._alpha=parseFloat(a.value/100),e._change.apply(e,arguments)}})}},_change:function(){this._super();var t=this,a=t.element;if(this.options.alpha){var e=t.controls,i=parseInt(100*t._color._alpha),n=t._color.toRgb(),o=["rgb("+n.r+","+n.g+","+n.b+") 0%","rgba("+n.r+","+n.g+","+n.b+", 0) 100%"],s=t.options.defaultWidth,r=t.options.customWidth,l=t.picker.closest(".wp-picker-container").find(".wp-color-result");e.aContainer.css({background:"linear-gradient(to bottom, "+o.join(", ")+"), url("+c+")"}),l.hasClass("wp-picker-open")&&(e.aSlider.slider("value",i),t._color._alpha<1?(e.strip.attr("style",e.strip.attr("style").replace(/rgba\(([0-9]+,)(\s+)?([0-9]+,)(\s+)?([0-9]+)(,(\s+)?[0-9\.]+)\)/g,"rgb($1$3$5)")),a.width(parseInt(s+r))):a.width(s))}(a.data("reset-alpha")||!1)&&t.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){t._color._alpha=1,t.active="external",t._change()})},_addInputListeners:function(i){var n=this,t=function(t){var a=new Color(i.val()),e=i.val();i.removeClass("iris-error"),a.error?""!==e&&i.addClass("iris-error"):a.toString()!==n._color.toString()&&("keyup"===t.type&&e.match(/^[0-9a-fA-F]{3}$/)||n._setOption("color",a.toString()))};i.on("change",t).on("keyup",n._debounce(t,100)),n.options.hide&&i.on("focus",function(){n.show()})}})}(jQuery),jQuery(document).ready(function(t){t(".color-picker").wpColorPicker()});