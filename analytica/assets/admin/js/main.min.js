jQuery(document).ready(function(o){o(".customize-control.has-switchers").each(function(t){var e=o(this);1<=e.find(".responsive-switchers").length&&(e.parent().find("#"+e.attr("id")).addClass("active"),e.parent().find("#"+e.attr("id")+"_mobile").removeClass("active"),e.parent().find("#"+e.attr("id")+"_tablet").removeClass("active"))}),o(".customize-control .responsive-switchers button").on("click",function(t){var e=o(this),a=o(".responsive-switchers"),n=o(t.currentTarget).data("device"),i=o(".customize-control.has-switchers"),s=o(".wp-full-overlay"),r=o(".wp-full-overlay-footer .devices");a.find("button").removeClass("active"),a.find("button.preview-"+n).addClass("active"),i.removeClass("active"),"desktop"===n?i.parent().find("#"+i.attr("id")).addClass("active"):i.parent().find("#"+i.attr("id")+"_"+n).addClass("active"),i.removeClass("control-device-desktop control-device-tablet control-device-mobile").addClass("control-device-"+n),s.removeClass("preview-desktop preview-tablet preview-mobile").addClass("preview-"+n),r.find("button").removeClass("active").attr("aria-pressed",!1),r.find("button.preview-"+n).addClass("active").attr("aria-pressed",!0),e.hasClass("preview-desktop")&&i.toggleClass("responsive-switchers-open")}),o(".wp-full-overlay-footer .devices button").on("click",function(t){var e=o(this),a=o(".customize-control.has-switchers .responsive-switchers"),n=o(t.currentTarget).data("device"),i=o(".customize-control.has-switchers");a.find("button").removeClass("active"),a.find("button.preview-"+n).addClass("active"),i.removeClass("active"),"desktop"===n?i.parent().find("#"+i.attr("id")).addClass("active"):i.parent().find("#"+i.attr("id")+"_"+n).addClass("active"),i.removeClass("control-device-desktop control-device-tablet control-device-mobile").addClass("control-device-"+n),e.hasClass("preview-desktop")?i.removeClass("responsive-switchers-open"):i.addClass("responsive-switchers-open")})}),wp.customize.controlConstructor["dimensions-responsive"]=wp.customize.Control.extend({ready:function(){"use strict";!_.isUndefined(window.kirkiControlLoader)&&_.isFunction(kirkiControlLoader)?kirkiControlLoader(this):this.initKirkiControl()},initKirkiControl:function(){var t,e=this,a=e.params.choices,n={};for(t=0;t<a.length;t++)n[a[t]]=e.setting._value[a[t]],e.updateDimensionsValue(a[t],n)},updateDimensionsValue:function(t,e){var a=this;a.container.on("change keyup paste","input.dimension-"+t,function(){e[t]=jQuery(this).val(),a.saveValue(e)})},saveValue:function(t){var a={};_.each(t,function(t,e){a[e]=t}),this.setting.set(a)}}),jQuery(document).ready(function(n){n(".analytica-linked").on("click",function(){var t=n(this);t.parent().parent(".dimension-wrap").prevAll().slice(0,4).find("input").removeClass("linked").attr("data-element",""),t.parent(".link-dimensions").removeClass("unlinked")}),n(".analytica-unlinked").on("click",function(){var t=n(this),e=t.data("element");t.parent().parent(".dimension-wrap").prevAll().slice(0,4).find("input").addClass("linked").attr("data-element",e),t.parent(".link-dimensions").addClass("unlinked")}),n(".dimension-wrap").on("input",".linked",function(){var t=n(this).attr("data-element"),a=n(this).val();n('.linked[ data-element="'+t+'" ]').each(function(t,e){n(this).val(a).change()})})}),wp.customize.controlConstructor["analytica-icon"]=wp.customize.Control.extend({ready:function(){"use strict";var t=this;this.container.on("change","input",function(){t.setting.set(jQuery(this).val())})}}),function(n,s){"use strict";n.ImageGalleryControl=n.Control.extend({initialize:function(t,e){var a;(a=e||{}).params.file_type||(a.params.file_type="image"),a.params.type||(a.params.type="image_gallery"),a.params.content||(a.params.content=s("<li></li>"),a.params.content.attr("id","customize-control-"+t.replace(/]/g,"").replace(/\[/g,"-")),a.params.content.attr("class","customize-control customize-control-"+a.params.type)),a.params.attachments||(a.params.attachments=[]),n.Control.prototype.initialize.call(this,t,a)},ready:function(){var e=this;function t(){var t=e.setting.get();e.setAttachmentsData(t).done(function(){e.renderContent(),e.setupSortable()})}_.bindAll(e,"openFrame","select"),t(),e.setting.bind(t),e.container.on("click keydown",".upload-button",e.openFrame)},setAttachmentsData:function(t){var n=this,i=[];return n.params.attachments=[],_.each(t,function(t,e){var a=new s.Deferred;wp.media.attachment(t).fetch().done(function(){n.params.attachments[e]=this.attributes,a.resolve()}),i.push(a)}),s.when.apply(void 0,i).promise()},openFrame:function(t){t.preventDefault(),this.frame||this.initFrame(),this.frame.open()},initFrame:function(){var t,i=this;this.frame=wp.media({button:{text:i.params.button_labels.frame_button},states:[new wp.media.controller.Library({title:i.params.button_labels.frame_title,library:wp.media.query({type:i.params.file_type}),multiple:"add"})]}),t=function(){var e,t,a,n;n=i.frame.state().get("library"),e=i.frame.state().get("selection"),t=i.setting.get(),n.comparator=function(t,e){var a=!0===this.mirroring.get(t.cid),n=!0===this.mirroring.get(e.cid);return!a&&n?-1:a&&!n?1:0},_.each(t,function(t){a=wp.media.attachment(t),e.add(a?[a]:[]),n.add(a?[a]:[])})},i.frame.on("open",t),i.frame.on("select",i.select)},select:function(){var t,e;t=this.frame.state().get("selection").toJSON(),this.params.attachments=t,e=this.getAttachmentIds(t),this.setSettingValues(e)},getAttachmentIds:function(t){var e,a=[];for(e in t)a.push(t[e].id);return a},setSettingValues:function(t){this.setting.set(t)},setupSortable:function(){var t=this,a=s(".image-gallery-attachments");a.sortable({items:".image-gallery-thumbnail-wrapper",tolerance:"pointer",stop:function(){var e=[];a.find(".image-gallery-thumbnail-wrapper").each(function(){var t;t=parseInt(s(this).data("postId"),10),e.push(t)}),t.setSettingValues(e)}})}}),n.controlConstructor.image_gallery=n.ImageGalleryControl}(wp.customize,jQuery);